<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36" version="26.1.3">
  <diagram name="第 1 页" id="cz_ltXLW9XBZgEjm8yR2">
    <mxGraphModel dx="2209" dy="406" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="9wjjSW-jJtxV3j_qA20g-77" value="客户端" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="20" y="800" width="150" height="1032" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-78" value="API网关" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="348" y="800" width="150" height="1032" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-79" value="" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" vertex="1" parent="9wjjSW-jJtxV3j_qA20g-78">
          <mxGeometry x="70" y="111" width="10" height="115" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-80" value="请求队列" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="597" y="800" width="150" height="1032" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-81" value="模型推理引擎" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="875" y="800" width="150" height="1032" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-82" value="" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" vertex="1" parent="9wjjSW-jJtxV3j_qA20g-81">
          <mxGeometry x="70" y="264" width="10" height="461" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-83" value="Tokenizer" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="1179" y="800" width="150" height="1032" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-84" value="" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" vertex="1" parent="9wjjSW-jJtxV3j_qA20g-83">
          <mxGeometry x="70" y="320" width="10" height="56" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-85" value="" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" vertex="1" parent="9wjjSW-jJtxV3j_qA20g-83">
          <mxGeometry x="70" y="611" width="10" height="48" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-86" value="GPU计算集群" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" vertex="1" parent="1">
          <mxGeometry x="1379" y="800" width="150" height="1032" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-87" value="" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" vertex="1" parent="9wjjSW-jJtxV3j_qA20g-86">
          <mxGeometry x="70" y="432" width="10" height="123" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-88" value="alt" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" vertex="1" parent="1">
          <mxGeometry x="84" y="1535" width="877" height="202" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-89" value="[显存不足]" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" vertex="1" parent="9wjjSW-jJtxV3j_qA20g-88">
          <mxGeometry x="30" width="847" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-90" value="[输入过长]" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" vertex="1" parent="9wjjSW-jJtxV3j_qA20g-88">
          <mxGeometry y="106" width="877" height="4" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-91" value="POST /v1/completions (JSON请求)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-77" target="9wjjSW-jJtxV3j_qA20g-79">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="268" y="911" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-92" value="分配请求ID + 优先级标签" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-79" target="9wjjSW-jJtxV3j_qA20g-80">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="558" y="967" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-93" value="批量请求打包(max_batch=8)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-80" target="9wjjSW-jJtxV3j_qA20g-82">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="820" y="1064" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-94" value="文本编码(UTF-8→Token IDs)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-82" target="9wjjSW-jJtxV3j_qA20g-84">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1113" y="1120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-95" value="[231, 445, ..., 102] (Token序列)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-84" target="9wjjSW-jJtxV3j_qA20g-82">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1114" y="1176" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-96" value="输入Tensor(Batch×SeqLen×HiddenDim)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-82" target="9wjjSW-jJtxV3j_qA20g-87">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1213" y="1232" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-97" value="输出Logits(Batch×SeqLen×VocabSize)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-87" target="9wjjSW-jJtxV3j_qA20g-82">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1214" y="1355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-98" value="解码采样(Top-k=50, Temp=0.7)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-82" target="9wjjSW-jJtxV3j_qA20g-85">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1113" y="1411" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-99" value="&quot;深度求索模型私有化部署...&quot;" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-85" target="9wjjSW-jJtxV3j_qA20g-82">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1114" y="1459" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-100" value="Streaming Response(SSE协议)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-82" target="9wjjSW-jJtxV3j_qA20g-77">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="532" y="1515" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-101" value="429 Too Many Requests" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-81" target="9wjjSW-jJtxV3j_qA20g-77">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="534" y="1616" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-102" value="400 Bad Request" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" edge="1" parent="1" source="9wjjSW-jJtxV3j_qA20g-81" target="9wjjSW-jJtxV3j_qA20g-77">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="534" y="1717" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-103" value="高优先级请求插队处理" style="fillColor=#ffff88;strokeColor=#9E916F;" vertex="1" parent="1">
          <mxGeometry x="697" y="987" width="180" height="49" as="geometry" />
        </mxCell>
        <mxCell id="9wjjSW-jJtxV3j_qA20g-104" value="多卡并行计算&#xa;(Tensor Parallelism)" style="fillColor=#ffff88;strokeColor=#9E916F;" vertex="1" parent="1">
          <mxGeometry x="1371" y="1252" width="167" height="67" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
